# ===============================
# ðŸ§ª Cosmic-Dashboard V6.8.4
# Development Container (Hot Reload)
# ===============================
FROM node:22-alpine

WORKDIR /app

ENV NODE_ENV=development
ENV CHOKIDAR_USEPOLLING=true
ENV FORCE_COLOR=true
ENV DEBUG_MODE=true

# Copy dependency files
COPY package*.json ./

RUN npm install -g nodemon && npm install

# Copy all project files
COPY . .

# Expose dashboard port
EXPOSE 3000

# Mount volume for live code updates
VOLUME [ "/app" ]

# Run using nodemon
CMD ["nodemon", "--legacy-watch", "index.js"]